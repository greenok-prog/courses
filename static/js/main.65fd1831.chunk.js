(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(29),s=a.n(r),i=a(4),l=(a(115),a(116),a(146)),o=a(9),u=a(10),j=a(150),d=a(154),b=a(0);var m=function(){return Object(b.jsxs)("ul",{className:"navbar-nav",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(o.c,{className:"nav-link active",to:"/registration/teacher",children:"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u043d\u0438\u0435"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(o.c,{className:"nav-link active",to:"/registration",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(o.c,{className:"nav-link active",to:"/login",children:"\u0412\u0445\u043e\u0434"})})]})},p=a(145),O=a(7),x=a.n(O),h=a(11),f="SET_MESSAGE",v="RESET_MESSAGE",g="SET_ERROR",N="RESET_ERROR",y="LOGOUT",w="SET_CURRENT_USER",_="ADD_TO_PURCHASED",k="GET_LESSONS",C="GET_CARD",S="ADD_LESSON",E="ADD_LESSON_BLOCK",I="DELETE_BLOCK",A="SET_CURRENT_LESSON",L="ADD_COMMENT",T="GET_USERS",R="DELETE_USER",D="CREATE_USER",B="GET_USER_DATA",U="CHANGE_PROFILE_INFO",F="CHANGE_EMAIL",M="CHANGE_AVATAR",z="ADD_TO_FAVORITE",P="REMOVE_FROM_FAVORITE",V="GET_ALL_CARDS",H="GET_CARD_PROMO",G="REMOVE_CARD",K=a(13),q=a.n(K),W=a(22),Z=W.API_SERVER,J=function(e){return{type:w,payload:e}},Y=function(e){return{type:D,payload:e}},X=function(e){return{type:f,payload:e}},$=function(e){return{type:g,payload:e}},Q=function(e){return{type:A,payload:e}},ee=localStorage.getItem("token"),te=function(e,t){return function(){var a=Object(h.a)(x.a.mark((function a(n){var c,r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=localStorage.getItem("token"),a.next=4,q.a.put("".concat(Z,"api/user/buyCourse"),{userId:e,cardId:t},{headers:{Authorization:"Bearer ".concat(c)}});case 4:r=a.sent,n((s=r.data.currentUser,{type:_,payload:s})),n(X(r.data.message)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n($(a.t0.response.data.message));case 12:case"end":return a.stop()}var s}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()};var ae=function(){var e,t,a=Object(i.c)((function(e){return e.user})).currentUser,n=Object(i.b)(),c="ADMIN"===(null===a||void 0===a||null===(e=a.user)||void 0===e?void 0:e.roles[0]),r=null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.roles.includes("TEACHER");return Object(b.jsx)("div",{children:Object(b.jsxs)("ul",{className:"navbar-nav",children:[r&&Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(o.c,{className:"nav-link active",to:"/teachersRoom",children:"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b"})}),c?Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(o.c,{className:"nav-link active",to:"/admin",children:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"})}):Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(o.c,{className:"nav-link active",to:"/education",children:"\u041c\u043e\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsxs)(p.a,{title:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",className:"nav-dropdown",children:[Object(b.jsx)(o.c,{className:"navbarDropdown-item",to:"/profile",children:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(b.jsx)(o.c,{className:"navbarDropdown-item",to:"/education",children:"\u041c\u043e\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(b.jsx)(p.a.Divider,{}),Object(b.jsx)(o.c,{className:"navbarDropdown-item",to:"/",onClick:function(){return n({type:y,payload:e});var e},children:"\u0412\u044b\u0445\u043e\u0434"})]})})]})})};var ne=function(){var e=Object(i.c)((function(e){return e.user})).isAuth;return Object(b.jsx)("div",{children:Object(b.jsx)(j.a,{className:"navbar navbar-dark",expand:"lg",children:Object(b.jsxs)(l.a,{children:[Object(b.jsx)(j.a.Brand,{children:Object(b.jsx)(o.b,{className:"navbar-brand",to:"/home",children:"FrizCourses"})}),Object(b.jsx)(j.a.Toggle,{"aria-controls":"navbarSupportedContent"}),Object(b.jsxs)(j.a.Collapse,{id:"navbarSupportedContent",children:[Object(b.jsx)(d.a,{className:"me-auto mb-lg-0"}),e?Object(b.jsx)(ae,{}):Object(b.jsx)(m,{})]})]})})})},ce=a(3),re=a(147),se=a(153);var ie=function(){var e=Object(n.useState)(!0),t=Object(ce.a)(e,2),a=t[0],c=t[1],r=Object(i.b)(),s=Object(i.c)((function(e){return e.user})).error;return Object(b.jsx)(re.a,{position:"top-end",className:"my_toast position-fixed",children:Object(b.jsxs)(se.a,{onClose:function(){var e;r({type:N,payload:e}),c(!1)},className:"sticky",autohide:!0,show:a,delay:3e3,bg:"danger",children:[Object(b.jsx)(se.a.Header,{className:"bg-danger",children:Object(b.jsx)("strong",{className:"me-auto"})}),Object(b.jsx)(se.a.Body,{children:s})]})})};var le=function(){var e=Object(n.useState)(!0),t=Object(ce.a)(e,2),a=t[0],c=t[1],r=Object(i.b)(),s=Object(i.c)((function(e){return e.user})).message;return Object(b.jsx)(re.a,{position:"top-end",className:"my_toast position-fixed",children:Object(b.jsxs)(se.a,{onClose:function(){var e;r({type:v,payload:e}),c(!1)},autohide:!0,show:a,delay:3e3,bg:"success",children:[Object(b.jsx)(se.a.Header,{className:"bg-success",children:Object(b.jsx)("strong",{className:"me-auto"})}),Object(b.jsx)(se.a.Body,{children:s})]})})},oe=a(155),ue=a(156),je=a(148),de=a(37),be=a(149);var me=function(e){var t=e.users,a=Object(n.useState)("\u0418\u0441\u043a\u0430\u0442\u044c \u043f\u043e"),c=Object(ce.a)(a,2),r=c[0],s=c[1],l=Object(n.useState)(""),u=Object(ce.a)(l,2),j=u[0],d=u[1],m=Object(i.b)(),p=["email","username","_id","firstName","secondName"],O=p.includes(r)?t.filter((function(e){var t;return null===(t=e[r])||void 0===t?void 0:t.includes(j)})):t;return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(oe.a,{type:"search",onChange:function(e){return d(e.target.value)},className:"text-dark",children:Object(b.jsx)(ue.a,{})}),Object(b.jsx)(je.a,{className:"search_dropdown mb-3",title:r,children:p.map((function(e,t){return Object(b.jsx)(de.a.Item,{onClick:function(){return s(e)},children:e},t)}))}),O.length?Object(b.jsx)(be.a,{striped:!0,bordered:!0,hover:!0,children:Object(b.jsxs)("thead",{children:[Object(b.jsxs)("tr",{className:"bg-secondary",children:[Object(b.jsx)("th",{children:"_id"}),Object(b.jsx)("th",{children:"email"}),Object(b.jsx)("th",{children:"username"}),Object(b.jsx)("th",{children:"firstname"}),Object(b.jsx)("th",{children:"last name"}),Object(b.jsx)("th",{children:"roles"}),Object(b.jsx)("th",{children:"actions"})]}),O.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e._id}),Object(b.jsx)("td",{children:e.email}),Object(b.jsx)("td",{children:e.username}),Object(b.jsx)("td",{children:e.firstName}),Object(b.jsx)("td",{children:e.secondName}),Object(b.jsx)("td",{children:e.roles.map((function(e){return e+" "}))}),Object(b.jsxs)("td",{className:"d-flex justify-content-around",children:[Object(b.jsx)(o.b,{to:"/user/"+e._id,className:"btn",children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-fill",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"})})}),Object(b.jsx)("button",{className:"btn",onClick:function(){return m((t=e._id,function(){var e=Object(h.a)(x.a.mark((function e(a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=localStorage.getItem("token"),q.a.delete("".concat(Z,"api/user/").concat(t),{data:{userId:t},headers:{Authorization:"Bearer ".concat(n)}}),a({type:R,payload:t})}catch(c){a($(c.response.data.message))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t},children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16",children:[Object(b.jsx)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),Object(b.jsx)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})]})})]})]},t)}))]})}):Object(b.jsx)("h3",{style:{textAlign:"center"},children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})},pe=a(14),Oe=a(151),xe=a(102);var he=function(e){var t=e.title,a=e.message,n=e.errorMessage,c=e.setErrorMessage,r=function(){return c(!1)};return Object(b.jsxs)(Oe.a,{size:"md",show:n,onHide:r,children:[Object(b.jsx)(Oe.a.Header,{closeButton:!0,children:Object(b.jsx)(Oe.a.Title,{children:t})}),Object(b.jsx)(Oe.a.Body,{children:Object(b.jsx)("p",{children:a})}),Object(b.jsx)(Oe.a.Footer,{children:Object(b.jsx)(xe.a,{variant:"secondary",onClick:r,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})},fe=W.API_SERVER,ve=function(e){return{type:C,payload:e}},ge=function(e){return{type:H,payload:e}},Ne=function(e){return{type:L,payload:e}},ye=function(){return function(){var e=Object(h.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.get(fe+"api/cards");case 3:a=e.sent,t((n=a.data,{type:V,payload:n})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},we=function(e){return function(){var t=Object(h.a)(x.a.mark((function t(a){var n,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=localStorage.getItem("token"),t.next=4,q.a.post(fe+"api/cards/getLessons",{cardId:e},{headers:{Authorization:"Bearer ".concat(n)}});case 4:c=t.sent,a((r=c.data.lessons,{type:k,payload:r})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a($(t.t0.response.data.message));case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()};var _e=function(e){var t,a,c,r=Object(n.useState)(!1),s=Object(ce.a)(r,2),l=s[0],u=s[1],j=Object(i.b)(),d=W.API_SERVER,m=Object(i.c)((function(e){return e.user})).currentUser,p="ADMIN"===(null===m||void 0===m||null===(t=m.user)||void 0===t?void 0:t.roles[0])||(null===(a=e.card)||void 0===a?void 0:a.author)===(null===m||void 0===m||null===(c=m.user)||void 0===c?void 0:c._id);return Object(b.jsx)("div",{className:"col-lg-4 col-sm-12 card mb-3",children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("img",{className:"card-img-top",src:d+e.card.image,alt:""}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title",children:e.card.title}),Object(b.jsx)("small",{className:"card-text",children:e.card.text})]}),Object(b.jsxs)("div",{className:"more container d-flex justify-content-between align-items-center ",children:[Object(b.jsx)(he,{title:"\u041e\u0448\u0438\u0431\u043a\u0430",message:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0430\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442",errorMessage:l,setErrorMessage:u}),p&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{className:"btn more-text",children:Object(b.jsx)(o.b,{to:"/card/".concat(e.card._id,"/change"),children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}),Object(b.jsx)("button",{onClick:function(){return j((t=e.card._id,function(){var e=Object(h.a)(x.a.mark((function e(a){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),e.next=4,q.a.delete(fe+"api/cards/"+t,{headers:{Authorization:"Bearer ".concat(n)},data:{id:t}});case 4:c=e.sent,a({type:G,payload:t}),a(X(c.data.message)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a($(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));var t},className:"btn more-text",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}),Object(b.jsx)("div",{className:"more-link d-flex ",children:Object(b.jsxs)(o.b,{to:"/card/".concat(e.card._id),className:"more-text mr-5",children:["\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",Object(b.jsx)("img",{className:"arrow",src:"/images/arrow.png",alt:""})]})})]})]})})};var ke=function(e){var t=e.cards;return Object(b.jsx)("div",{className:"row justify-content-between",children:t&&t.map((function(e,t){return Object(b.jsx)(_e,{card:e},t)}))})};var Ce=function(){return Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsx)("div",{className:"card-loader card-loader--tabs"})})};var Se=function(e){var t=e.favoriteCards,a=Object(i.c)((function(e){return e.course})),n=a.cards,c=a.isLoading,r=n.sort((function(e,t){return e.popular<t.popular?1:-1})).slice(0,3);return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"fast_courses",children:Object(b.jsxs)("div",{className:"fast_courses_inner container-lg justify-content-center text-center",children:[Object(b.jsx)("h4",{className:"fast_courses_title",children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435"}),Object(b.jsx)("i",{className:"bi-alarm"}),Object(b.jsx)("p",{className:"fast_courses_subtitle",children:"\u0421\u0430\u043c\u044b\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043a\u0443\u0440\u0441\u044b \u043d\u0430 \u043d\u0430\u0448\u0435\u043c \u0441\u0430\u0439\u0442\u0435"}),n.length?Object(b.jsx)(ke,{cards:r,favoriteCards:t}):c?Object(b.jsx)("div",{className:"d-flex row",children:Object(pe.a)(Array(3).keys()).map((function(e,t){return Object(b.jsx)(Ce,{},t)}))}):Object(b.jsx)("h3",{style:{textAlign:"center",margin:"32px 0"},children:"\u041a\u0443\u0440\u0441\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})]})})})};var Ee=function(e){var t=e.setsearchVal,a=e.searchVal;return Object(b.jsx)("div",{className:"search-form col-lg-5 d-flex justify-content-lg-end ",children:Object(b.jsxs)("div",{className:"mt-lg-0 mt-sm-2",children:[Object(b.jsx)("img",{src:"/images/search.svg",alt:""}),Object(b.jsx)("input",{value:a,onChange:function(e){return t(e.target.value)},className:"search-input",type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a"})]})})},Ie=a(2);var Ae=function(e){var t=e.value,a=e.isLink,c=Object(n.useState)(!1),r=Object(ce.a)(c,2),s=r[0],i=r[1],l=Object(n.useState)({email:"",phone:"",name:""}),o=Object(ce.a)(l,2),u=o[0],j=o[1],d=function(){return i(!1)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:a?"":"btn bord",onClick:function(){return i(!0)},children:t}),Object(b.jsxs)(Oe.a,{size:"lg",centered:!0,show:s,onHide:d,children:[Object(b.jsx)(Oe.a.Header,{closeButton:!0,children:Object(b.jsx)(Oe.a.Title,{children:"\u041f\u043e\u043c\u043e\u0436\u0435\u043c \u0432 \u0432\u044b\u0431\u043e\u0440\u0435!"})}),Object(b.jsxs)(Oe.a.Body,{children:[Object(b.jsx)("p",{children:"\u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u043e \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0438\u043b\u0438 \u0432\u044b \u043d\u0435 \u0437\u043d\u0430\u0435\u0442\u0435 \u0447\u0442\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c, \u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0432\u043e\u0439 \u043d\u043e\u043c\u0435\u0440: \u043c\u044b \u043f\u043e\u0437\u0432\u043e\u043d\u0438\u043c, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0432\u0441\u0435 \u0432\u0430\u0448\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u044b."}),Object(b.jsx)("input",{value:u.name,onChange:function(e){return j(Object(Ie.a)(Object(Ie.a)({},u),{},{name:e.target.value}))},type:"text",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",className:"input",style:{width:"100%"}}),Object(b.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(b.jsx)("input",{value:u.phone,onChange:function(e){return j(Object(Ie.a)(Object(Ie.a)({},u),{},{phone:e.target.value}))},type:"text",placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",className:"input",style:{width:"45%"}}),Object(b.jsx)("input",{value:u.email,onChange:function(e){return j(Object(Ie.a)(Object(Ie.a)({},u),{},{email:e.target.value}))},type:"text",placeholder:"email",className:"input",style:{width:"45%"}})]})]}),Object(b.jsxs)(Oe.a.Footer,{children:[Object(b.jsx)(xe.a,{variant:"secondary",onClick:d,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(b.jsx)(xe.a,{variant:"primary",onClick:function(){console.log(u)},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})]})};var Le=function(){return Object(b.jsxs)("div",{className:"row ad align-items-center",children:[Object(b.jsxs)("div",{className:"col-sm-6 mb-3",children:[Object(b.jsx)("h2",{children:"\u0423\u0447\u0438\u0442\u0435\u0441\u044c \u0431\u0435\u0437 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439"}),Object(b.jsxs)("p",{className:"subtitle",children:["\u0420\u0430\u0437\u0432\u0438\u0432\u0430\u0439\u0442\u0435 \u043d\u0430\u0432\u044b\u043a\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u043d\u043b\u0430\u0439\u043d-\u043a\u0443\u0440\u0441\u043e\u0432, \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0439 \u0438 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0445"," ",Object(b.jsx)("br",{}),"\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c \u043e\u0442 \u043b\u0443\u0447\u0448\u0438\u0445 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0438\u0442\u0435\u0442\u043e\u0432 \u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439 \u043c\u0438\u0440\u0430."]}),Object(b.jsx)(Ae,{value:"\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u044f"})]}),Object(b.jsx)("div",{className:"col-sm-6 justify-content-center",children:Object(b.jsx)("img",{className:"img",src:"/images/und.png",alt:""})})]})};var Te=function(e){var t=e.trends,a=e.selectSort,n=e.selectedSort,c=e.selectAll;return Object(b.jsxs)("div",{className:"types col-lg-7",children:[Object(b.jsx)("button",{onClick:function(){return c("")},className:"btn  trend outline mb-2 ".concat(""===n?"trend-active":""),children:"\u0412\u0441\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"}),t.map((function(e,t){return Object(b.jsx)("button",{onClick:function(){return a(e.type)},className:"btn trend outline mb-2 ".concat(n===e.type?"trend-active":""),children:e.name},e.type)}))]})};var Re=function(){return Object(b.jsx)("div",{className:"footer",children:Object(b.jsxs)("div",{className:"footer_inner container d-flex justify-content-between",children:[Object(b.jsx)("p",{children:"By FAN"}),Object(b.jsxs)("div",{className:"socials",children:[Object(b.jsx)(o.b,{to:"",className:"social",children:Object(b.jsx)("img",{src:"/images/facebook.svg",alt:""})}),Object(b.jsx)(o.b,{to:"/",className:"social",children:Object(b.jsx)("img",{src:"/images/vk.svg",alt:""})}),Object(b.jsx)(o.b,{to:"/",className:"social",children:Object(b.jsx)("img",{src:"/images/github.svg",alt:""})})]})]})})};var De=function(){var e=Object(i.c)((function(e){return e.course})),t=e.cards,a=e.isLoading,c=Object(n.useState)(""),r=Object(ce.a)(c,2),s=r[0],o=r[1],u=Object(n.useState)(""),j=Object(ce.a)(u,2),d=j[0],m=j[1],p=Object(pe.a)(t).filter((function(e){return e.type===d})).filter((function(e){return e.title.toLowerCase().includes(s.toLowerCase())})),O=Object(pe.a)(t).filter((function(e){return e.title.toLowerCase().includes(s.toLowerCase())}));return Object(b.jsxs)(l.a,{className:"search",children:[Object(b.jsx)("h4",{className:"",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(b.jsxs)("div",{className:"directions row",children:[Object(b.jsx)(Te,{selectSort:function(e){m(e)},trends:[{type:"design",name:"\u0414\u0438\u0437\u0430\u0439\u043d"},{type:"programming",name:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"},{type:"marketing",name:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433"}],selectAll:function(e){return m(e)},selectedSort:d}),Object(b.jsx)(Ee,{searchVal:s,setsearchVal:o})]}),t&&t.length>0?""===d?O.length?Object(b.jsx)(ke,{cards:O}):Object(b.jsx)("h3",{style:{textAlign:"center",margin:"32px 0"},children:"\u041a\u0443\u0440\u0441\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}):p.length?Object(b.jsx)(ke,{cards:p}):Object(b.jsx)("h3",{style:{textAlign:"center",margin:"32px 0"},children:"\u041a\u0443\u0440\u0441\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}):a?Object(b.jsx)("div",{className:"d-flex row",children:Object(pe.a)(Array(3).keys()).map((function(e,t){return Object(b.jsx)(Ce,{},t)}))}):Object(b.jsx)("h3",{style:{textAlign:"center",margin:"32px 0"},children:"\u041a\u0443\u0440\u0441\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})]})};var Be=function(){var e=Object(i.b)(),t=[{item:"courses",name:"\u0412\u0441\u0435 \u043a\u0443\u0440\u0441\u044b"},{item:"users",name:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}],a=Object(n.useState)(t[0].item),c=Object(ce.a)(a,2),r=c[0],s=c[1];Object(n.useEffect)((function(){e(function(){var e=Object(h.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee=localStorage.getItem("token"),e.next=4,q.a.get("".concat(Z,"api/user"),{headers:{Authorization:"Bearer ".concat(ee)}});case 4:a=e.sent,t((n=a.data.users,{type:T,payload:n})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 11:case"end":return e.stop()}var n}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),e(ye())}),[e]);var l=Object(i.c)((function(e){return e.user})),u=l.users,j=l.isMessage;return Object(b.jsxs)("div",{className:"container",children:[j&&Object(b.jsx)(le,{}),Object(b.jsxs)("ul",{className:"education_header__navbar mb-5",children:[t.map((function(e){return Object(b.jsx)("li",{onClick:function(){return t=e.item,void s(t);var t},className:"education_header__navbar-item ".concat(r===e.item?"education_header__navbar-active":""),children:e.name},e.item)})),Object(b.jsxs)("li",{children:[Object(b.jsx)("button",{className:"btn mt-3 ",children:Object(b.jsx)(o.b,{to:"/addCard",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"})}),Object(b.jsx)("button",{className:"btn mt-3 mx-2",children:Object(b.jsx)(o.b,{to:"/createUser",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})})]})]}),"users"===r?Object(b.jsx)(me,{users:u}):Object(b.jsx)(De,{})]})};var Ue=function(){return Object(b.jsx)("div",{className:"loader",children:Object(b.jsxs)("div",{className:"lds-ring",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]})})};var Fe=function(){var e=Object(i.b)(),t=Object(u.h)(),a=Object(u.g)(),c=Object(n.useState)({}),r=Object(ce.a)(c,2),s=r[0],l=r[1],j=Object(i.c)((function(e){return e.course})).currentCard,d=Object(n.useState)({title:"",text:"",type:"",image:null}),m=Object(ce.a)(d,2),p=m[0],O=m[1];Object(n.useEffect)((function(){var a;return e((a=t.id,function(){var e=Object(h.a)(x.a.mark((function e(t){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),e.next=4,q.a.post(fe+"api/cards/"+a,{id:a},{headers:{Authorization:"Bearer ".concat(n)}});case 4:c=e.sent,t(ve(c.data.card)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t($(e.t0.response.data.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),function(){e(ve({}))}}),[t.id,e]);var f=[{type:"design",name:"\u0414\u0438\u0437\u0430\u0439\u043d"},{type:"programming",name:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"},{type:"marketing",name:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433"}],v=Object(n.useState)(f[0]),g=Object(ce.a)(v,2),N=g[0],y=g[1],w=Object(n.useState)([]),_=Object(ce.a)(w,2),k=_[0],C=_[1],S=Object(n.useState)({title:"",subtitle:"",price:"",willLearn:[],description:"",willLearnStr:""}),E=Object(ce.a)(S,2),I=E[0],A=E[1];return Object(b.jsxs)("div",{className:"addCard_form  d-flex flex-column justify-content-center col-md-8 ",children:[Object(b.jsx)("button",{className:"btn",children:Object(b.jsx)(o.b,{to:"/lesson/"+t.id,children:"\u0423\u0440\u043e\u043a\u0438"})}),j?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h3",{className:"text-center",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430"}),Object(b.jsx)("input",{required:!0,onChange:function(e){return O(Object(Ie.a)(Object(Ie.a)({},p),{},{title:e.target.value}))},value:p.title,type:"text",className:"input",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(b.jsx)("textarea",{required:!0,onChange:function(e){return O(Object(Ie.a)(Object(Ie.a)({},p),{},{text:e.target.value}))},value:p.text,className:"input",type:"text",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(b.jsx)(je.a,{title:N.name,children:f.map((function(e){return Object(b.jsx)(de.a.Item,{onClick:function(){return y(t=e),void O(Object(Ie.a)(Object(Ie.a)({},p),{},{type:t.type}));var t},children:e.name})}))}),Object(b.jsx)("label",{form:"card_file",children:"\u0424\u043e\u0442\u043e \u0434\u043b\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"}),Object(b.jsx)("input",{required:!0,className:"input form-control input-file mt-2",onChange:function(e){l(e.target.files[0])},id:"card_file",name:"file",type:"file",placeholder:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"}),Object(b.jsx)("h3",{className:"text-center",children:"\u041f\u0440\u043e\u043c\u043e \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"}),Object(b.jsx)("input",{onChange:function(e){return A(Object(Ie.a)(Object(Ie.a)({},I),{},{title:e.target.value}))},className:"input",value:null===I||void 0===I?void 0:I.title,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(b.jsx)("input",{onChange:function(e){return A(Object(Ie.a)(Object(Ie.a)({},I),{},{subtitle:e.target.value}))},value:null===I||void 0===I?void 0:I.subtitle,className:"input",type:"text",placeholder:"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),Object(b.jsx)("textarea",{onChange:function(e){return A(Object(Ie.a)(Object(Ie.a)({},I),{},{description:e.target.value}))},value:null===I||void 0===I?void 0:I.description,className:"input",type:"text",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(b.jsx)("input",{onChange:function(e){return A(Object(Ie.a)(Object(Ie.a)({},I),{},{price:e.target.value}))},value:null===I||void 0===I?void 0:I.price,className:"input",type:"number",placeholder:"\u0426\u0435\u043d\u0430"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("ul",{className:"mb-2",children:k&&k.map((function(e,t){return Object(b.jsx)("li",{className:"mx-2",style:{cursor:"pointer",display:"inline-block"},onClick:function(){return C(k.filter((function(t){return t!==e})))},children:e},t)}))}),Object(b.jsx)("input",{onChange:function(e){return A(Object(Ie.a)(Object(Ie.a)({},I),{},{willLearnStr:e.target.value}))},value:I.willLearnStr,className:"input form-control",type:"text",placeholder:"\u0427\u0435\u043c\u0443 \u043d\u0430\u0443\u0447\u0438\u0442 \u043a\u0443\u0440\u0441"}),Object(b.jsx)("button",{onClick:function(){I.willLearnStr&&(C([].concat(Object(pe.a)(k),[I.willLearnStr])),A(Object(Ie.a)(Object(Ie.a)({},I),{},{willLearnStr:""})))},className:"btn",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),Object(b.jsxs)("div",{className:"w-100 justify-content-center text-center",children:[Object(b.jsx)("button",{onClick:function(){e(function(e,t,a,n){return function(){var c=Object(h.a)(x.a.mark((function c(r){var s,i,l;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s=localStorage.getItem("token"),(i=new FormData).append("image",n),Object.keys(t).forEach((function(e){return i.append(e,t[e])})),Object.keys(a).forEach((function(e){return i.append(e,a[e])})),c.next=8,q.a.put(fe+"api/cards/"+e,i,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(s)}});case 8:l=c.sent,r(X(l.data.message)),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),r($(c.t0.response.data.message));case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}}()}(t.id,Object(Ie.a)(Object(Ie.a)({},I),{},{willLearn:JSON.stringify(k)}),p,s)).then((function(){return a("/admin")}))},className:"btn mt-3 mb-4 w-50 ",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(b.jsx)("button",{onClick:function(){var e;O(null===j||void 0===j?void 0:j.card),A(null===j||void 0===j?void 0:j.promo),C(null===j||void 0===j||null===(e=j.promo)||void 0===e?void 0:e.willLearn)},className:"btn mt-3 mb-4 w-50 ",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})]}):Object(b.jsx)(Ue,{})]})};var Me=function(){var e=Object(i.b)(),t=Object(u.h)(),a=Object(u.g)(),c=Object(i.c)((function(e){return e.course})).currentLessons,r=Object(n.useState)({}),s=Object(ce.a)(r,2),l=s[0],o=s[1],j=Object(n.useState)({title:"",text:"",links:[]}),d=Object(ce.a)(j,2),m=d[0],p=d[1];Object(n.useEffect)((function(){o(c.map((function(e){return e.lessons.find((function(e){return e._id===t.lessonId}))})).filter((function(e){return void 0!==e}))[0]),p(l)}),[t.id,c,l.text,l,t.lessonId]),console.log(m);var O=Object(n.useState)({}),f=Object(ce.a)(O,2),v=f[0],g=f[1],N=Object(n.useState)(""),y=Object(ce.a)(N,2),w=y[0],_=y[1],k=function(n){var c,r,s,i,l;n.preventDefault(),e((c=t.lessonId,r=m.title,s=m.text,i=m.links,l=v,function(){var e=Object(h.a)(x.a.mark((function e(t){var a,n,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),(n=new FormData).append("lessonId",c),n.append("title",r),n.append("text",s),n.append("links",i),l&&n.append("video",l),e.next=10,q.a.put("".concat(fe,"api/cards/").concat(c,"/changeLesson"),n,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data"}});case 10:o=e.sent,console.log(o.data),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t($(e.t0.response.data.message));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}())).then((function(){return a("/lesson/"+t.cardId)}))};return Object(b.jsxs)("div",{className:"container ",children:[Object(b.jsxs)("form",{action:"",onSubmit:function(e){return k(e)},children:[Object(b.jsx)("div",{className:"w-100 mt-3 d-flex justify-content-center",children:Object(b.jsx)("input",{type:"text",name:"title",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",className:"input w-100",value:m.title,onChange:function(e){return p(Object(Ie.a)(Object(Ie.a)({},m),{},{title:e.target.value}))}})}),Object(b.jsx)("div",{className:"w-100 mt-3 d-flex justify-content-center",children:Object(b.jsx)("textarea",{type:"text",name:"text",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0443\u0440\u043e\u043a\u0430",className:"input w-100",value:m.text,onChange:function(e){return p(Object(Ie.a)(Object(Ie.a)({},m),{},{text:e.target.value}))}})}),Object(b.jsx)("div",{className:"w-100 mt-3 d-flex justify-content-center",children:Object(b.jsx)("input",{type:"file",onChange:function(e){return function(e){g(e.target.files[0])}(e)},className:"input form-control input-file w-100"})}),Object(b.jsx)("div",{className:"w-100 mt-3 d-flex justify-content-center",children:Object(b.jsx)("input",{value:w,onChange:function(e){return _(e.target.value)},type:"text",placeholder:"\u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438",className:"input w-100 m-0 mr-2"})})]}),Object(b.jsxs)("div",{className:"w-100 mt-3 d-flex justify-content-between",children:[Object(b.jsx)("div",{children:m.links&&(null===m||void 0===m?void 0:m.links.map((function(e){return Object(b.jsx)("span",{role:"button",onClick:function(){return p(Object(Ie.a)(Object(Ie.a)({},m),{},{links:m.links.filter((function(t){return t!==e}))}))},className:"mx-2",children:e})})))}),Object(b.jsx)("button",{onClick:function(){""!==w&&(p(Object(Ie.a)(Object(Ie.a)({},m),{},{links:[].concat(Object(pe.a)(m.links),[w])})),_(""))},className:"btn p-2 ",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),Object(b.jsx)("div",{className:"w-100 mt-3 d-flex justify-content-center"}),Object(b.jsx)("div",{className:"w-100 mt-3 d-flex justify-content-center",children:Object(b.jsx)("button",{onClick:function(e){return k(e)},className:"btn w-50",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})})]})},ze=function(){var e=["ADMIN","USER","TEACHER"],t=Object(u.h)(),a=Object(i.b)(),c=Object(u.g)(),r=Object(i.c)((function(e){return e.user})).userData,s=Object(n.useState)(e[0]),l=Object(ce.a)(s,2),o=l[0],j=l[1];Object(n.useEffect)((function(){var e;a((e=t.id,function(){var t=Object(h.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,ee=localStorage.getItem("token"),t.next=4,q.a.post("".concat(Z,"api/user/:id"),{_id:e},{headers:{Authorization:"Bearer ".concat(ee)}});case 4:n=t.sent,a((c=n.data.user,{type:B,payload:c})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response.data.message);case 11:case"end":return t.stop()}var c}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[a,t]);var d=Object(n.useState)({email:"",roles:[],username:"",firstName:"",secondName:""}),m=Object(ce.a)(d,2),p=m[0],O=m[1],f=function(e){e.preventDefault(),a(function(e,t,a,n,c,r){return function(){var s=Object(h.a)(x.a.mark((function s(i){var l,o;return x.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,l=localStorage.getItem("token"),s.next=4,q.a.put("".concat(Z,"api/user/").concat(e,"/changeData"),{id:e,email:t,username:n,roles:a,firstName:c,secondName:r},{headers:{Authorization:"Bearer ".concat(l)}});case 4:o=s.sent,i(Y(o.data.user)),s.next=12;break;case 8:s.prev=8,s.t0=s.catch(0),s.t0.response.data.errors&&i($(s.t0.response.data.errors.errors[0].msg)),i($(s.t0.response.data.message));case 12:case"end":return s.stop()}}),s,null,[[0,8]])})));return function(e){return s.apply(this,arguments)}}()}(r._id,p.email,p.roles,p.username,p.firstName,p.secondName)).then((function(){return c("/admin")}))};return console.log(p.roles),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{action:"",className:"forms col-8 d-flex flex-column justify-content-center",children:[Object(b.jsx)("h3",{className:"text-center",children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(b.jsx)("input",{onChange:function(e){return O(Object(Ie.a)(Object(Ie.a)({},p),{},{username:e.target.value}))},value:p.username,className:"input",type:"text",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(b.jsx)("input",{onChange:function(e){return O(Object(Ie.a)(Object(Ie.a)({},p),{},{email:e.target.value}))},className:"input",type:"text",placeholder:"Email",value:p.email}),Object(b.jsx)("p",{className:"my-1 d-flex",children:p.roles?p.roles.map((function(e){return Object(b.jsx)("li",{style:{cursor:"pointer"},onClick:function(){return O(Object(Ie.a)(Object(Ie.a)({},p),{},{roles:p.roles.filter((function(t){return t!==e}))}))},className:"d-inline mx-2",children:e})})):"\u0420\u043e\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsx)(je.a,{title:o,children:e.map((function(e){return Object(b.jsx)(de.a.Item,{onClick:function(){j(e)},children:e})}))}),Object(b.jsx)("button",{onClick:function(e){return function(e){p.roles.includes(o)?e.preventDefault():(e.preventDefault(),O(Object(Ie.a)(Object(Ie.a)({},p),{},{roles:[].concat(Object(pe.a)(p.roles),[o])})))}(e)},className:"w-25 mx-2",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u043e\u043b\u044c"})]}),Object(b.jsx)("h3",{className:"text-center mt-3",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(b.jsx)("input",{onChange:function(e){return O(Object(Ie.a)(Object(Ie.a)({},p),{},{firstName:e.target.value}))},className:"input",type:"text",placeholder:"\u0418\u043c\u044f",value:p.firstName}),Object(b.jsx)("input",{onChange:function(e){return O(Object(Ie.a)(Object(Ie.a)({},p),{},{secondName:e.target.value}))},className:"input",type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",value:p.secondName}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("button",{className:"btn col-6",onClick:function(e){return f(e)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(b.jsx)("button",{className:"btn col-6",onClick:function(e){return function(e){e.preventDefault(),O(r)}(e)},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"})]})]})})};var Pe=function(e){var t=e.list;return Object(b.jsx)("ul",{className:"aboutCourse_list row",children:t.map((function(e,t){return Object(b.jsxs)("li",{className:"aboutCourse_list-item col-6",children:[Object(b.jsx)("img",{src:"/images/done.png",alt:""}),e]},t)}))})};var Ve=function(e){var t=e.description;return Object(b.jsxs)("div",{className:"courseInfo_description",children:[Object(b.jsx)("p",{className:"courseInfo_description-title",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(b.jsx)("p",{className:"courseInfo_description-text",children:t})]})},He=a(81);var Ge=function(e){var t=e.product,a=e.cardId,c=Object(n.useState)(!1),r=Object(ce.a)(c,2),s=r[0],l=(r[1],Object(i.b)()),o=Object(i.c)((function(e){return e.user})).currentUser,j=Object(u.g)();return s&&l(X("\u0423\u0441\u043f\u0435\u0448\u043d\u043e")),console.log(t),Object(b.jsx)("div",{children:t.description&&Object(b.jsx)(He.a,{style:{tagline:!1,color:"black"},onClick:function(e,t){return t.resolve()},createOrder:function(e,a){return console.log(t.description),a.order.create({purchase_units:[{description:t.title,amount:{value:Number(t.price),currency_code:"USD"}}]})},onApprove:function(){var e=Object(h.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.order.capture().then((function(e){e.payer.name.given_name;l(te(o.user._id,a)),j("/card/"+a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onError:function(e){return console.log(e)}})})};var Ke=function(e){var t=e.promo,a=e.image,n=W.API_SERVER,c=Object(u.h)(),r=Object(i.b)(),s=Object(i.c)((function(e){return e.user})),l=s.isAuth,o=s.currentUser;return Object(b.jsx)(b.Fragment,{children:t&&Object(b.jsxs)("div",{className:"courseInfo_card col-3 ",children:[Object(b.jsx)("img",{className:"courseInfo_card__image",src:n+a,alt:""}),Object(b.jsxs)("div",{className:"courseInfo_card__body",children:[Object(b.jsxs)("div",{className:"courseInfo_card__price",children:[t.price,"$"]}),Object(b.jsx)("p",{className:"courseInfo_card__text",children:"\u042d\u0442\u043e\u0442 \u043a\u0443\u0440\u0441 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442:"}),Object(b.jsxs)("ul",{className:"courseInfo_card__list",children:[Object(b.jsxs)("li",{className:"courseInfo_card__list-item",children:[Object(b.jsx)("img",{src:"/images/inf.png",alt:""}),"\u041f\u043e\u043b\u043d\u044b\u0439 \u043f\u043e\u0436\u0438\u0437\u043d\u0435\u043d\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f"]}),Object(b.jsxs)("li",{className:"courseInfo_card__list-item",children:[Object(b.jsx)("img",{src:"/images/video.png",alt:""}),"\u0412\u0438\u0434\u0435\u043e\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"]})]})]}),l&&!o.user.favoriteCourses.includes(c.id)?Object(b.jsx)("div",{className:"px-2 justify-content-center w-100 mt-5 d-flex align-items-center",children:Object(b.jsx)("button",{className:"courseInfo_card-like w-100 text-center justify-content-center  d-flex align-items-center",onClick:function(){var e,t;r((e=c.id,t=o.user._id,function(){var a=Object(h.a)(x.a.mark((function a(n){var c,r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=localStorage.getItem("token"),a.next=4,q.a.put(fe+"api/user/"+e+"/addToFav",{cardId:e,userId:t},{headers:{Authorization:"Bearer ".concat(c)}});case 4:r=a.sent,n((s=r.data,{type:z,payload:s})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n($(a.t0.response.data.message));case 11:case"end":return a.stop()}var s}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0436\u0435\u043b\u0430\u0435\u043c\u043e\u0435"})}):Object(b.jsx)("div",{className:"px-2 mb-2 justify-content-center w-100 mt-5 d-flex align-items-center",children:Object(b.jsx)("button",{className:"courseInfo_card-like w-100 text-center justify-content-center  d-flex align-items-center",onClick:function(){var e,t;r((e=c.id,t=o.user._id,function(){var a=Object(h.a)(x.a.mark((function a(n){var c,r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=localStorage.getItem("token"),a.next=4,q.a.put(fe+"api/user/"+e+"/removeFromFav",{cardId:e,userId:t},{headers:{Authorization:"Bearer ".concat(c)}});case 4:r=a.sent,n((s=r.data,{type:P,payload:s})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n($(a.t0.response.data.message));case 11:case"end":return a.stop()}var s}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0436\u0435\u043b\u0430\u0435\u043c\u043e\u0433\u043e"})}),Object(b.jsx)("div",{className:"mt-2 d-flex justify-content-center align-items-center",children:l&&(o.user.purchasedCourses.includes(t.card)?Object(b.jsx)("div",{className:"px-2 justify-content-center w-100  d-flex align-items-center",children:Object(b.jsx)("button",{className:"courseInfo_card-like w-100 text-center justify-content-center  d-flex align-items-center",children:"\u0423\u0436\u0435 \u043a\u0443\u043f\u043b\u0435\u043d\u043e"})}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"d-flex align-items-center justify-content-center flex-row",children:Object(b.jsx)(Ge,{cardId:c.id,product:{description:t.title,price:t.price}})})}))})]})})};var qe=function(){var e=Object(u.h)(),t=Object(n.useState)(""),a=Object(ce.a)(t,2),c=a[0],r=a[1],s=Object(i.b)(),l=Object(i.c)((function(e){return e.course})),o=l.cards,j=l.currentPromo,d=Object(i.c)((function(e){return e.user})),m=d.isMessage,p=d.isError;Object(n.useEffect)((function(){var t;s((t=e.id,function(){var e=Object(h.a)(x.a.mark((function e(a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.post(fe+"api/cards/"+t+"/promo",{id:t});case 3:n=e.sent,a(ge(n.data.promo)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a($(e.t0.response.data.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));var a=o.find((function(t){return t._id===e.id}));return r(null===a||void 0===a?void 0:a.image),function(){s(ge({}))}}),[o,s,e.id]);var O=Object(n.useState)(!1),f=Object(ce.a)(O,2),v=f[0],g=f[1];return Object(b.jsxs)("div",{className:"courseInfo__header",children:[m&&Object(b.jsx)(le,{}),p&&Object(b.jsx)(ie,{}),j?Object(b.jsxs)("div",{className:"container-lg courseInfo_title ",children:[Object(b.jsx)(he,{title:"\u041e\u0448\u0438\u0431\u043a\u0430",message:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0430\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442",errorMessage:v,setErrorMessage:g}),Object(b.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(b.jsxs)("div",{className:"courseInfo_title-text col-8",children:[Object(b.jsxs)("div",{className:"courseInfo_text",children:[Object(b.jsx)("h3",{children:j.title}),Object(b.jsx)("p",{children:j.subtitle})]}),Object(b.jsxs)("div",{className:"aboutCourse",children:[Object(b.jsx)("p",{className:"aboutCourse_title",children:"\u0427\u0435\u043c\u0443 \u0432\u044b \u043d\u0430\u0443\u0447\u0438\u0442\u0435\u0441\u044c:"}),j.willLearn&&Object(b.jsx)(Pe,{list:j.willLearn})]}),j.description&&Object(b.jsx)(Ve,{description:j.description})]}),""!==c?Object(b.jsx)(Ke,{promo:j,image:c,setErrorMessage:g}):Object(b.jsx)("div",{children:"Loading"})]})]}):Object(b.jsx)(Ue,{})]})};var We=function(e){var t=e.form,a=e.setCard,c=[{type:"design",name:"\u0414\u0438\u0437\u0430\u0439\u043d"},{type:"programming",name:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"},{type:"marketing",name:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433"}],r=Object(n.useState)(c[0]),s=Object(ce.a)(r,2),i=s[0],l=s[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h3",{className:"text-center",children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430"}),Object(b.jsx)("input",{required:!0,onChange:function(e){return a(Object(Ie.a)(Object(Ie.a)({},t),{},{title:e.target.value}))},value:t.title,type:"text",className:"input",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"}),Object(b.jsx)("textarea",{required:!0,onChange:function(e){return a(Object(Ie.a)(Object(Ie.a)({},t),{},{text:e.target.value}))},value:t.text,className:"input",type:"text",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(b.jsx)(je.a,{title:i.name,children:c.map((function(e){return Object(b.jsx)(de.a.Item,{onClick:function(){return l(n=e),void a(Object(Ie.a)(Object(Ie.a)({},t),{},{type:n.type}));var n},children:e.name})}))}),Object(b.jsx)("label",{form:"card_file",children:"\u0424\u043e\u0442\u043e \u0434\u043b\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"}),Object(b.jsx)("input",{required:!0,className:"input form-control input-file mt-2",onChange:function(e){return n=e,void a(Object(Ie.a)(Object(Ie.a)({},t),{},{image:n.target.files[0]}));var n},id:"card_file",name:"file",type:"file",placeholder:"\u0424\u0430\u0439\u043b"})]})};var Ze=function(e){var t=e.form,a=e.setForm,n=e.addToWillLearn,c=e.will,r=e.setWill;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h3",{className:"text-center",children:"\u041f\u0440\u043e\u043c\u043e \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"}),Object(b.jsx)("input",{onChange:function(e){return a(Object(Ie.a)(Object(Ie.a)({},t),{},{promoTitle:e.target.value}))},className:"input",value:t.title,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(b.jsx)("input",{onChange:function(e){return a(Object(Ie.a)(Object(Ie.a)({},t),{},{promoSubtitle:e.target.value}))},value:t.subtitle,className:"input",type:"text",placeholder:"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),Object(b.jsx)("textarea",{onChange:function(e){return a(Object(Ie.a)(Object(Ie.a)({},t),{},{description:e.target.value}))},value:t.description,className:"input",type:"text",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(b.jsx)("input",{onChange:function(e){return a(Object(Ie.a)(Object(Ie.a)({},t),{},{price:e.target.value}))},value:t.price,className:"input",type:"number",placeholder:"\u0426\u0435\u043d\u0430"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("ul",{className:"mb-2",children:c.map((function(e,t){return Object(b.jsx)("li",{className:"mx-2",style:{cursor:"pointer",display:"inline-block"},onClick:function(){return r(c.filter((function(t){return t!==e})))},children:e},t)}))}),Object(b.jsx)("input",{onChange:function(e){return a(Object(Ie.a)(Object(Ie.a)({},t),{},{willLearnStr:e.target.value}))},value:t.willLearnStr,className:"input form-control",type:"text",placeholder:"\u0427\u0435\u043c\u0443 \u043d\u0430\u0443\u0447\u0438\u0442 \u043a\u0443\u0440\u0441"}),Object(b.jsx)("button",{onClick:n,className:"btn",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})};var Je=function(){var e=Object(i.b)(),t=Object(u.g)(),a=Object(i.c)((function(e){return e.user})),c=a.currentUser,r=a.isError,s=Object(n.useState)({title:"",text:"",type:"design",image:null}),l=Object(ce.a)(s,2),o=l[0],j=l[1],d=Object(n.useState)([]),m=Object(ce.a)(d,2),p=m[0],O=m[1],f=Object(n.useState)({promoTitle:"",promoSubtitle:"",price:"",willLearn:[],description:"",willLearnStr:""}),v=Object(ce.a)(f,2),g=v[0],N=v[1];return Object(b.jsxs)("div",{className:"addCard_form d-flex flex-column justify-content-center col-md-8 ",children:[r&&Object(b.jsx)(ie,{}),Object(b.jsx)(We,{setCard:j,form:o}),Object(b.jsx)(Ze,{setWill:O,will:p,addToWillLearn:function(){g.willLearnStr.length&&(O([].concat(Object(pe.a)(p),[g.willLearnStr])),N(Object(Ie.a)(Object(Ie.a)({},g),{},{willLearnStr:""})))},setForm:N,form:g}),Object(b.jsx)("div",{className:"w-100 justify-content-center text-center",children:Object(b.jsx)("button",{onClick:function(){var a,n,r,s,i,l,u,j,d,b;e((a=o.title,n=o.text,r=o.type,s=o.image,i=g.promoTitle,l=g.promoSubtitle,u=g.price,j=p,d=g.description,b=c.user._id,function(){var e=Object(h.a)(x.a.mark((function e(t){var c,o,m;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=localStorage.getItem("token"),(o=new FormData).append("title",a),o.append("text",n),o.append("type",r),o.append("file",s),o.append("promoTitle",i),o.append("promoSubtitle",l),o.append("price",u),o.append("willLearn",JSON.stringify(j)),o.append("description",d),o.append("userId",b),e.next=15,q.a.post("http://localhost:5000/api/cards/add",o,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(c)}});case 15:m=e.sent,t({type:"ADD_CARD",payload:m.data.card}),t(X(m.data.message)),e.next=24;break;case 20:return e.prev=20,e.t0=e.catch(0),t($(e.t0.response.data.message)),e.abrupt("return",e.t0.response);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}())).then((function(e){e||t("/admin")}))},className:"btn mt-3 mb-4 w-50 ",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})]})};var Ye=function(){var e=Object(n.useState)({title:"",text:"",links:[]}),t=Object(ce.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({}),s=Object(ce.a)(r,2),l=s[0],o=s[1],j=Object(n.useState)(""),d=Object(ce.a)(j,2),m=d[0],p=d[1],O=Object(i.b)(),f=Object(u.h)(),v=Object(u.g)(),g=function(e){var t,n,c,r,s;e.preventDefault(),O((t=f.block_id,n=a.title,c=a.text,r=a.links,s=l,function(){var e=Object(h.a)(x.a.mark((function e(a){var i,l,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=localStorage.getItem("token"),(l=new FormData).append("id",t),l.append("title",n),l.append("text",c),l.append("links",r),s&&l.append("video",s),e.next=10,q.a.post(fe+"api/cards/addLesson",l,{headers:{Authorization:"Bearer ".concat(i)}});case 10:o=e.sent,console.log(o.data),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),a($(e.t0.response.data.message));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}())).then((function(){return v("/lesson/"+f.card_id)}))};return Object(b.jsx)("div",{className:"container ",children:Object(b.jsxs)("form",{action:"",onSubmit:function(e){return g(e)},children:[Object(b.jsx)("div",{className:"w-100 mt-3 d-flex justify-content-center",children:Object(b.jsx)("input",{type:"text",name:"title",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",className:"input w-100",value:a.title,onChange:function(e){return c(Object(Ie.a)(Object(Ie.a)({},a),{},{title:e.target.value}))}})}),Object(b.jsx)("div",{className:"w-100 mt-3 d-flex justify-content-center",children:Object(b.jsx)("textarea",{type:"text",name:"text",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0443\u0440\u043e\u043a\u0430",className:"input w-100",value:a.text,onChange:function(e){return c(Object(Ie.a)(Object(Ie.a)({},a),{},{text:e.target.value}))}})}),Object(b.jsx)("div",{className:"w-100 mt-3 d-flex justify-content-center",children:Object(b.jsx)("input",{type:"file",onChange:function(e){return function(e){o(e.target.files[0])}(e)},className:"input form-control input-file w-100"})}),Object(b.jsx)("div",{className:"w-100 mt-3 d-flex justify-content-center",children:Object(b.jsx)("input",{value:m,onChange:function(e){return p(e.target.value)},type:"text",placeholder:"\u041f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438",className:"input w-100 m-0 mr-2"})}),Object(b.jsxs)("div",{className:"w-100 mt-3 d-flex justify-content-between",children:[Object(b.jsx)("div",{children:a.links.map((function(e){return Object(b.jsx)("span",{role:"button",onClick:function(){return c(Object(Ie.a)(Object(Ie.a)({},a),{},{links:a.links.filter((function(t){return t!==e}))}))},className:"mx-2",children:e})}))}),Object(b.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),c(Object(Ie.a)(Object(Ie.a)({},a),{},{links:[].concat(Object(pe.a)(a.links),[m])})),p("")}(e)},className:"btn p-2 ",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),Object(b.jsx)("div",{className:"w-100 mt-3 d-flex justify-content-center"}),Object(b.jsx)("div",{className:"w-100 mt-3 d-flex justify-content-center",children:Object(b.jsx)("button",{className:"btn w-50",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})]})})},Xe=function(){var e=["ADMIN","USER","TEACHER"],t=Object(i.b)(),a=Object(u.g)(),c=Object(n.useState)(e[0]),r=Object(ce.a)(c,2),s=r[0],l=r[1],o=Object(n.useState)({email:"",password:"",roles:[],username:"",firstname:"",surname:""}),j=Object(ce.a)(o,2),d=j[0],m=j[1],p=function(e){e.preventDefault(),t(function(e,t,a,n,c,r){return function(){var s=Object(h.a)(x.a.mark((function s(i){var l,o;return x.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,l=localStorage.getItem("token"),s.next=4,q.a.post("".concat(Z,"api/user"),{email:e,password:t,username:n,roles:a,firstName:c,secondName:r},{headers:{Authorization:"Bearer ".concat(l)}});case 4:o=s.sent,i(Y(o.data.user)),s.next=12;break;case 8:s.prev=8,s.t0=s.catch(0),s.t0.response.data.errors&&i($(s.t0.response.data.errors.errors[0].msg)),i($(s.t0.response.data.message));case 12:case"end":return s.stop()}}),s,null,[[0,8]])})));return function(e){return s.apply(this,arguments)}}()}(d.email,d.password,d.roles,d.username,d.firstname,d.surname)).then((function(){return a("/admin")}))};return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("form",{action:"",className:"forms col-8 d-flex flex-column justify-content-center",children:[Object(b.jsx)("h3",{className:"text-center",children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(b.jsx)("input",{onChange:function(e){return m(Object(Ie.a)(Object(Ie.a)({},d),{},{username:e.target.value}))},value:d.username,className:"input",type:"text",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(b.jsx)("input",{onChange:function(e){return m(Object(Ie.a)(Object(Ie.a)({},d),{},{email:e.target.value}))},className:"input",type:"text",placeholder:"Email",value:d.email}),Object(b.jsx)("input",{onChange:function(e){return m(Object(Ie.a)(Object(Ie.a)({},d),{},{password:e.target.value}))},className:"input",type:"text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:d.password}),Object(b.jsx)("p",{className:"my-1 d-flex",children:d.roles?d.roles.map((function(e,t){return Object(b.jsx)("li",{className:"d-inline mx-2",children:e},t)})):"\u0420\u043e\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsx)(je.a,{title:s,children:e.map((function(e){return Object(b.jsx)(de.a.Item,{onClick:function(){l(e)},children:e})}))}),Object(b.jsx)("button",{onClick:function(e){return function(e){d.roles.includes(s)?e.preventDefault():(e.preventDefault(),m(Object(Ie.a)(Object(Ie.a)({},d),{},{roles:[].concat(Object(pe.a)(d.roles),[s])})))}(e)},className:"w-25 mx-2",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u043e\u043b\u044c"})]}),Object(b.jsx)("h3",{className:"text-center mt-3",children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(b.jsx)("input",{onChange:function(e){return m(Object(Ie.a)(Object(Ie.a)({},d),{},{firstname:e.target.value}))},className:"input",type:"text",placeholder:"\u0418\u043c\u044f",value:d.firstname}),Object(b.jsx)("input",{onChange:function(e){return m(Object(Ie.a)(Object(Ie.a)({},d),{},{surname:e.target.value}))},className:"input",type:"text",placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",value:d.surname}),Object(b.jsx)("button",{className:"btn",onClick:function(e){return p(e)},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]})})};var $e=function(e){var t=e.title,a=e.text,n=e.image,c=e.id,r=W.API_SERVER;return Object(b.jsxs)(o.b,{to:"/lesson/".concat(c),className:"col-lg-4 col-sm-12 card my-card",children:[Object(b.jsx)("img",{className:"card-img-top",src:r+n,alt:""}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title",children:t}),Object(b.jsx)("small",{className:"card-text",children:a})]})]})};var Qe=function(e){var t=e.purchasedCourses,a=Object(i.c)((function(e){return e.course})).cards;return Object(b.jsx)("div",{className:"row justify-content-between",children:a.map((function(e,a){return t.includes(e._id)?Object(b.jsx)($e,{id:e._id,title:e.title,text:e.text,image:e.image},a):""}))})};var et=function(e){var t=e.activeItem,a=e.setActiveItem;return Object(b.jsx)("ul",{className:"education_header__navbar",children:[{item:"learning",name:"\u0412\u0441\u0435 \u043a\u0443\u0440\u0441\u044b"},{item:"wishlist",name:"\u0421\u043f\u0438\u0441\u043e\u043a \u0436\u0435\u043b\u0430\u043d\u0438\u0439"}].map((function(e,n){return Object(b.jsx)("li",{onClick:function(){return t=e.item,void a(t);var t},className:"education_header__navbar-item ".concat(t===e.item?"education_header__navbar-active":""),children:e.name},e.item)}))})};var tt=function(){var e=Object(i.c)((function(e){return e.user})).currentUser,t=Object(i.c)((function(e){return e.course})).cards,a=Object(n.useState)("learning"),c=Object(ce.a)(a,2),r=c[0],s=c[1],l=t.filter((function(t){return e.user.favoriteCourses.includes(t._id)}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"education",children:Object(b.jsx)("div",{className:"container education_inner",children:Object(b.jsxs)("div",{className:"education_header",children:[Object(b.jsx)("h2",{className:"education_header__title",children:"\u041c\u043e\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435"}),Object(b.jsx)(et,{activeItem:r,setActiveItem:s})]})})}),Object(b.jsx)("div",{className:"container-lg",children:"learning"===r?Object(b.jsx)(Qe,{purchasedCourses:e.user.purchasedCourses}):Object(b.jsx)(ke,{cards:l})})]})};var at=function(e){var t=Object(i.b)();return Object(n.useEffect)((function(){t(ye())}),[t]),Object(b.jsxs)("div",{className:"home_page",children:[Object(b.jsx)(l.a,{children:Object(b.jsx)(Le,{})}),Object(b.jsx)(Se,{}),Object(b.jsx)(De,{addToFavorite:e,trends:[{type:"design",name:"\u0414\u0438\u0437\u0430\u0439\u043d"},{type:"programming",name:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"},{type:"marketing",name:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433"}]}),Object(b.jsx)(Re,{})]})},nt=a(152);var ct=function(){var e,t,a=Object(n.useState)(!1),c=Object(ce.a)(a,2),r=c[0],s=c[1],l=Object(u.h)().id,j=Object(n.useState)(""),d=Object(ce.a)(j,2),m=d[0],p=d[1],O=Object(n.useState)(""),f=Object(ce.a)(O,2),v=f[0],g=f[1],N=Object(n.useState)(""),y=Object(ce.a)(N,2),w=y[0],_=y[1],k=Object(n.useState)(!1),C=Object(ce.a)(k,2),S=C[0],A=C[1],L=Object(i.c)((function(e){return e.course})),T=L.currentLessons,R=L.comments,D=L.cards,B=Object(i.c)((function(e){return e.user})).currentUser,U=null===B||void 0===B||null===(e=B.user)||void 0===e||null===(t=e.roles)||void 0===t?void 0:t.includes("ADMIN"),F=D.find((function(e){return e.author===B.user._id})),M=U||F,z=W.API_SERVER,P=Object(i.b)(),V=Object(n.useState)({}),H=Object(ce.a)(V,2),G=H[0],K=H[1],J=Object(n.useState)(""),Y=Object(ce.a)(J,2),X=Y[0],te=Y[1];return Object(n.useEffect)((function(){P(we(l)),P(function(){var e=Object(h.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),e.next=4,q.a.get(fe+"api/cards/loadComments",{headers:{Authorization:"Bearer ".concat(a)}});case 4:n=e.sent,t(Ne(n.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[P,l]),Object(n.useEffect)((function(){var e=B.user.currentLesson.filter((function(e){return e.cardId===l}))[0];if(e){var t=T.map((function(t){return t.lessons.find((function(t){return t._id===e.lesson}))}));K(t.find((function(e){return void 0!==e})))}else{var a;K(null===T||void 0===T||null===(a=T.find((function(e){return null===e||void 0===e?void 0:e.lessons.length})))||void 0===a?void 0:a.lessons[0])}}),[T,B.user.currentLesson,l]),Object(b.jsx)(b.Fragment,{children:T?Object(b.jsx)("div",{className:"container-lg courseTasks",children:Object(b.jsxs)("div",{className:"row",children:[G?Object(b.jsxs)("div",{className:"col-sm-8 courseTasks_info",children:[Object(b.jsx)("h2",{children:G.title}),G.video&&Object(b.jsx)("video",{className:"courseTasks_video w-100",controls:"controls",children:Object(b.jsx)("source",{src:"".concat(z+G.video),type:"video/mp4"})}),Object(b.jsx)("div",{className:"courseTasks_theory",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"courseTasks_theory__subtitle"}),Object(b.jsx)("p",{style:{whiteSpace:"pre-wrap"},className:"courseTasks_theory__text",children:G.text})]})}),Object(b.jsx)("div",{className:"courseTasks_links ",children:Object(b.jsx)("ul",{className:"d-flex justify-content-between",children:G.links&&G.links.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{to:e,children:e})})}))})}),Object(b.jsxs)("div",{className:"courseTasks_comments",children:[Object(b.jsxs)("h3",{className:"courseTasks_comments__title",children:["\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438:"," ",Object(b.jsx)("small",{children:R.filter((function(e){return e.lesson===G._id})).length})]}),Object(b.jsx)("textarea",{value:X,onChange:function(e){return te(e.target.value)},type:"text",rows:2,className:"input w-100",placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(b.jsx)("button",{onClick:function(){return P((e=l,t=G._id,a=B.user._id,n=X,function(){var c=Object(h.a)(x.a.mark((function c(r){var s,i;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s=localStorage.getItem("token"),c.next=4,q.a.post(fe+"api/cards/".concat(t,"/addComment"),{blockId:e,lessonId:t,userId:a,text:n},{headers:{Authorization:"Bearer ".concat(s)}});case 4:i=c.sent,r(Ne(i.data)),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),console.log(c.t0);case 11:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()));var e,t,a,n},className:"btn",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),R&&R.map((function(e,t){return e.lesson===G._id?Object(b.jsxs)("div",{className:"courseTasks_comment row",children:[Object(b.jsxs)("div",{className:"courseTasks_comment__info d-flex justify-content-start",children:[e.user.avatar?Object(b.jsx)("div",{className:"courseTasks_comment__avatar",children:Object(b.jsx)("img",{src:z+e.user.avatar,alt:""})}):Object(b.jsx)("div",{className:"courseTasks_comment__avatar"}),Object(b.jsx)("p",{className:"courseTasks_comment__username mx-3",children:e.user.username})]}),Object(b.jsx)("p",{className:"courseTasks_comment_text",children:Object(b.jsx)("small",{children:e.text})}),Object(b.jsx)("hr",{})]},t):""}))]})]}):Object(b.jsx)(Ue,{className:"col-sm-8"}),Object(b.jsxs)("div",{className:"col-sm-4 courseTasks_sidebar",children:[T.length>0?Object(b.jsx)(nt.a,{className:"bg-primary",defaultActiveKey:["1"],children:T.map((function(e,t){return Object(b.jsxs)(nt.a.Item,{onClick:function(){return g(e)},eventKey:t,children:[Object(b.jsx)(nt.a.Header,{children:Object(b.jsxs)("div",{className:"w-100 text-dark d-flex justify-content-between",children:[e.title," ",M&&Object(b.jsxs)("div",{className:"d-flex justify-conten-start align-items-center",children:[Object(b.jsx)("button",{onClick:function(){A(!0),g(e),_(e.title)},className:"lessonBlock_btn d-flex align-items-center",children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-fill",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"})})}),Object(b.jsx)("button",{onClick:function(){return P((t=e._id,function(){var e=Object(h.a)(x.a.mark((function e(a){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),e.next=4,q.a.delete(fe+"api/cards/".concat(t,"/deleteLessonBlock"),{headers:{Authorization:"Bearer ".concat(n)},data:{blockId:t}});case 4:c=e.sent,a((r=c.data,{type:I,payload:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a($(e.t0.response.data.message));case 11:case"end":return e.stop()}var r}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));var t},className:"lessonBlock_btn d-flex align-items-center",children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16",children:[Object(b.jsx)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),Object(b.jsx)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})]})})]})]})}),Object(b.jsx)(nt.a.Body,{className:"p-0",children:e.lessons?Object(b.jsxs)("ul",{children:[e.lessons.map((function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{onClick:function(){var t,a,n;K(e),P((t=e._id,a=B.user._id,n=l,function(){var e=Object(h.a)(x.a.mark((function e(c){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee=localStorage.getItem("token"),e.next=4,q.a.put("".concat(Z,"api/user/")+t+"/setCurrentLesson",{lessonId:t,userId:a,lesId:n},{headers:{Authorization:"Bearer ".concat(ee)}});case 4:r=e.sent,c(Q(r.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},role:"button",className:"text-dark d-flex py-2 justify-content-between align-items-center ".concat(e._id===(null===G||void 0===G?void 0:G._id)?"lesson-active":""),children:Object(b.jsxs)("div",{className:"w-100 text-dark d-flex justify-content-between align-items-center",children:[Object(b.jsx)("p",{role:"button",className:"m-0 py-2 text-dark cursor-pointer px-3 d-flex justify-content-between align-items-center",children:e.title}),M&&Object(b.jsxs)("div",{className:"d-flex justify-conten-start align-items-center",children:[Object(b.jsx)(o.b,{to:"/".concat(l,"/").concat(e._id,"/changeLesson"),className:"lessonBlock_btn d-flex align-items-center",children:Object(b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-fill",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"})})}),Object(b.jsx)("button",{onClick:function(){var t;P((t=e._id,function(){var e=Object(h.a)(x.a.mark((function e(a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),e.next=4,q.a.delete(fe+"api/cards/".concat(t,"/deleteLesson"),{headers:{Authorization:"Bearer ".concat(n)},data:{lessonId:t}});case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a($(e.t0.response.data.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),P(we(l))},className:"lessonBlock_btn d-flex align-items-center",children:Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16",children:[Object(b.jsx)("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),Object(b.jsx)("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})]})})]})]})}),Object(b.jsx)("hr",{className:"m-0 p-0 lesson-line w-50"})]})})),M&&Object(b.jsxs)("li",{className:"py-2 px-3 text-dark d-flex align-items-center justify-content-between",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0440\u043e\u043a",Object(b.jsx)(o.b,{style:{padding:"0px"},className:"btn",to:"/card/".concat(l,"/").concat(e._id,"/addLession"),children:Object(b.jsx)("img",{alt:"add_lesson",style:{width:"30px",height:"30px"},src:"https://img.icons8.com/external-tanah-basah-detailed-outline-tanah-basah/96/000000/external-plus-user-interface-tanah-basah-detailed-outline-tanah-basah-2.png"})})]})]}):Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(b.jsx)("p",{className:"text-dark m-0",children:"\u0412 \u044d\u0442\u043e\u043c \u0431\u043b\u043e\u043a\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0443\u0440\u043e\u043a\u043e\u0432"}),Object(b.jsx)(o.b,{to:"/card/".concat(e._id,"/addLession"),className:"btn",style:{padding:"0px"},children:Object(b.jsx)("img",{alt:"addLesson",style:{width:"30px",height:"30px"},src:"https://img.icons8.com/external-tanah-basah-detailed-outline-tanah-basah/96/000000/external-plus-user-interface-tanah-basah-detailed-outline-tanah-basah-2.png"})})]})})]})}))}):Object(b.jsx)(nt.a,{defaultActiveKey:"0",children:Object(b.jsx)(nt.a.Item,{eventKey:"0",children:Object(b.jsx)(nt.a.Header,{children:"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0443\u0440\u043e\u043a\u043e\u0432"})})}),M&&(S?Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"text",value:w,onChange:function(e){return _(e.target.value)},className:"w-100 form-control mt-3"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:function(){var e,t;P((e=v._id,t=w,function(){var a=Object(h.a)(x.a.mark((function a(n){var c;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=localStorage.getItem("token"),a.next=4,q.a.put(fe+"api/cards/changeLessonBlock",{blockId:e,title:t},{headers:{Authorization:"Bearer ".concat(c)}});case 4:a.sent,a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n($(a.t0.response.data.message));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}())).then((function(){return P(we(l))})),g(""),A(!1)},className:"btn ml-3 mt-2",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(b.jsx)("button",{onClick:function(){return g("")},className:"btn ml-3 mt-2 mx-2",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{value:m,onChange:function(e){return p(e.target.value)},type:"search",className:"".concat(r?"":"d-none"," w-100 form-control mt-3")}),Object(b.jsx)("button",{onClick:function(){var e,t;P((e=l,t=m,function(){var a=Object(h.a)(x.a.mark((function a(n){var c,r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=localStorage.getItem("token"),a.next=4,q.a.post(fe+"api/cards/".concat(e,"/addLessonBlock"),{cardId:e,title:t},{headers:{Authorization:"Bearer ".concat(c)}});case 4:r=a.sent,n((s=r.data,{type:E,payload:s})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n($(a.t0.response.data.message));case 11:case"end":return a.stop()}var s}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}())),p(""),s(!1)},className:"btn ml-3 mt-2 ".concat(r?"":"d-none"),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(b.jsx)("button",{onClick:function(){return s(!0)},className:"btn ml-3 mt-2 ".concat(r?"d-none":""),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u043b\u043e\u043a"})]}))]})]})}):Object(b.jsx)("div",{children:Object(b.jsx)(Ue,{})})})};var rt=function(){var e=Object(i.b)(),t=(Object(i.c)((function(e){return e.user})).isError,Object(n.useState)({email:"",password:""})),a=Object(ce.a)(t,2),c=a[0],r=a[1];return Object(b.jsxs)("div",{className:"container ",children:[Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsx)("div",{className:"col-2"}),Object(b.jsxs)("form",{autoComplete:"off",onSubmit:function(t){var a,n;t.preventDefault(),e((a=c.email,n=c.password,function(){var e=Object(h.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.a.post("".concat(Z,"api/auth/login"),{email:a,password:n});case 3:c=e.sent,t(J(c.data)),localStorage.setItem("token",c.data.token),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t($(e.t0.response.data.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},className:"forms col-8 d-flex flex-column justify-content-center",children:[Object(b.jsx)("p",{className:"text-center",children:"\u0412\u043e\u0438\u0434\u0438\u0442\u0435 \u0432 \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c FrizCourses"}),Object(b.jsx)("input",{required:!0,value:c.email,onChange:function(e){return r(Object(Ie.a)(Object(Ie.a)({},c),{},{email:e.target.value}))},className:"input",type:"text",placeholder:"Email"}),Object(b.jsx)("input",{autoComplete:"new-password",value:c.password,onChange:function(e){return r(Object(Ie.a)(Object(Ie.a)({},c),{},{password:e.target.value}))},className:"input",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("div",{className:"d-flex justify-content-lg-end",children:Object(b.jsx)("button",{type:"submit",className:"bord col-lg-2 col-12",children:"\u0412\u0445\u043e\u0434"})}),Object(b.jsxs)("p",{className:"text-center under_inputs",children:["\u0415\u0448\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c?"," ",Object(b.jsx)(o.b,{to:"/registration",children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})]}),Object(b.jsx)("div",{className:"col-2"})]})};var st=function(e){var t=e.value,a=e.isLink,c=Object(i.b)(),r=Object(i.c)((function(e){return e.user})),s=r.currentUser,l=r.error,o=r.isError,u=Object(n.useState)(!1),j=Object(ce.a)(u,2),d=j[0],m=j[1],p=Object(n.useState)({email:"",password:""}),O=Object(ce.a)(p,2),f=O[0],v=O[1],g=function(){m(!1),v(Object(Ie.a)(Object(Ie.a)({},f),{},{email:"",password:""}))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:a?"":"btn bord",onClick:function(){m(!0),v(Object(Ie.a)(Object(Ie.a)({},f),{},{email:"",password:""}))},children:t}),Object(b.jsxs)(Oe.a,{size:"lg",centered:!0,show:d,onHide:g,children:[Object(b.jsx)(Oe.a.Header,{closeButton:!0,children:Object(b.jsx)(Oe.a.Title,{children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 email"})}),Object(b.jsx)(Oe.a.Body,{children:Object(b.jsxs)("form",{className:"d-flex flex-column",autoComplete:"off",children:[o&&Object(b.jsx)("p",{className:"text-danger",children:l}),Object(b.jsx)("input",{autocomplete:"off",value:f.email,onChange:function(e){return v(Object(Ie.a)(Object(Ie.a)({},f),{},{email:e.target.value}))},type:"text",placeholder:"\u041d\u043e\u0432\u044b\u0439 email",className:"input"}),Object(b.jsx)("input",{autoComplete:"new-password",value:f.password,onChange:function(e){return v(Object(Ie.a)(Object(Ie.a)({},f),{},{password:e.target.value}))},type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"input"})]})}),Object(b.jsxs)(Oe.a.Footer,{children:[Object(b.jsx)(xe.a,{variant:"secondary",onClick:g,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(b.jsx)(xe.a,{variant:"primary",onClick:function(){var e,t,a;c((e=s.user._id,t=f.email,a=f.password,function(){var n=Object(h.a)(x.a.mark((function n(c){var r,s,i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=localStorage.getItem("token"),s={Authorization:"Bearer ".concat(r)},n.next=5,q.a.put("".concat(Z,"api/user/email"),{userId:e,email:t,password:a},{headers:s});case 5:i=n.sent,c((l=i.data.email,{type:F,payload:l})),c(X(i.data.message)),n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),c($(n.t0.response.data.message)),n.abrupt("return",n.t0.response);case 14:case"end":return n.stop()}var l}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}())),v(Object(Ie.a)(Object(Ie.a)({},f),{},{email:"",password:""}))},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]})};var it=function(){var e=Object(i.c)((function(e){return e.user})),t=e.currentUser,a=(e.isError,e.isMessage,Object(i.b)()),c=Object(n.useState)({oldPass:"",newPass:"",passRepeat:""}),r=Object(ce.a)(c,2),s=r[0],l=r[1];return Object(b.jsxs)("div",{className:"col-sm-6 profile_form",children:[Object(b.jsxs)("div",{className:"profile_form__info text-lg-center text-center",children:[Object(b.jsx)("h3",{children:"\u0423\u0447\u0435\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c"}),Object(b.jsx)("p",{children:"\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),Object(b.jsxs)("div",{className:"profile_form__inputs",children:[Object(b.jsxs)("div",{className:"profile_form__input d-flex flex-column",children:[Object(b.jsx)("p",{className:"profile_form-title",children:"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b:"}),Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("input",{value:t.user.email,readOnly:!0,disabled:!0,type:"text","aria-label":"First name",className:"form-control"}),Object(b.jsx)("span",{className:"input-group-text m-0 p-0",children:Object(b.jsx)(st,{className:"modalWindow",value:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",isLink:!1})})]})]}),Object(b.jsxs)("div",{className:"profile_form__input d-flex flex-column",children:[Object(b.jsx)("p",{className:"profile_form-title ",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("input",{autoComplete:"new-password",className:"input",placeholder:"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",onChange:function(e){return l(Object(Ie.a)(Object(Ie.a)({},s),{},{oldPass:e.target.value}))},value:s.oldPass}),Object(b.jsx)("input",{className:"input",placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password",onChange:function(e){return l(Object(Ie.a)(Object(Ie.a)({},s),{},{newPass:e.target.value}))},value:s.newPass}),Object(b.jsx)("input",{className:"input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0441\u043d\u043e\u0432\u0430",type:"password",onChange:function(e){return l(Object(Ie.a)(Object(Ie.a)({},s),{},{passRepeat:e.target.value}))},value:s.passRepeat}),Object(b.jsx)("button",{onClick:function(){var e,n,c;s.newPass===s.passRepeat?(a((e=t.user._id,n=s.oldPass,c=s.newPass,function(){var t=Object(h.a)(x.a.mark((function t(a){var r,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=localStorage.getItem("token"),t.next=4,q.a.put("".concat(Z,"api/user/password"),{userId:e,oldPas:n,newPas:c},{headers:{Authorization:"Bearer ".concat(r)}});case 4:s=t.sent,a(X(s.data.message)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a($(t.t0.response.data.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())),l({oldPass:"",newPass:"",passRepeat:""})):a($("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"))},className:"btn bord profile_form__input-button",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})};var lt=function(){var e,t,a,c,r,s=Object(i.c)((function(e){return e.user})),l=s.currentUser,o=(s.isMessage,s.isError,Object(n.useState)({username:null===l||void 0===l||null===(e=l.user)||void 0===e?void 0:e.username,firstName:null===l||void 0===l||null===(t=l.user)||void 0===t?void 0:t.firstName,secondName:null===l||void 0===l||null===(a=l.user)||void 0===a?void 0:a.secondName,userLink:null===l||void 0===l||null===(c=l.user)||void 0===c?void 0:c.userLink,githubLink:null===l||void 0===l||null===(r=l.user)||void 0===r?void 0:r.githubLink})),u=Object(ce.a)(o,2),j=u[0],d=u[1],m=Object(i.b)();return Object(b.jsxs)("div",{className:"col-sm-6 profile_form",children:[Object(b.jsxs)("div",{className:"profile_form__info text-lg-center text-center",children:[Object(b.jsx)("h3",{children:"\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(b.jsx)("p",{children:"\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0432\u0430\u0441"})]}),Object(b.jsxs)("div",{className:"profile_form__inputs",children:[Object(b.jsxs)("div",{className:"profile_form__input d-flex flex-column",children:[Object(b.jsx)("p",{className:"profile_form-title",children:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(b.jsx)("input",{className:"input",onChange:function(e){return d(Object(Ie.a)(Object(Ie.a)({},j),{},{username:e.target.value}))},value:j.username,placeholder:"\u041b\u043e\u0433\u0438\u043d",type:"text"}),Object(b.jsx)("input",{className:"input",onChange:function(e){return d(Object(Ie.a)(Object(Ie.a)({},j),{},{firstName:e.target.value}))},value:j.firstName,placeholder:"\u0418\u043c\u044f",type:"text"}),Object(b.jsx)("input",{className:"input",onChange:function(e){return d(Object(Ie.a)(Object(Ie.a)({},j),{},{secondName:e.target.value}))},value:j.secondName,placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",type:"text"})]}),Object(b.jsxs)("div",{className:"profile_form__input d-flex flex-column",children:[Object(b.jsx)("p",{className:"profile_form-title ",children:"\u0421\u0441\u044b\u043b\u043a\u0438"}),Object(b.jsx)("input",{className:"input",onChange:function(e){return d(Object(Ie.a)(Object(Ie.a)({},j),{},{userLink:e.target.value}))},value:j.userLink,placeholder:"\u0421\u0430\u0439\u0442",type:"text"}),Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("span",{className:"input-group-text",id:"twitter-link",children:"https://github.com/"}),Object(b.jsx)("input",{onChange:function(e){return d(Object(Ie.a)(Object(Ie.a)({},j),{},{githubLink:e.target.value}))},value:j.githubLink,type:"text",className:"form-control",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 github","aria-describedby":"twitter-link"})]}),Object(b.jsx)("button",{onClick:function(){return m((e=l.user._id,t=j.username,a=j.firstName,n=j.secondName,c=j.userLink,r=j.githubLink,function(){var s=Object(h.a)(x.a.mark((function s(i){var l,o;return x.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,l=localStorage.getItem("token"),s.next=4,q.a.put("".concat(Z,"api/user/profileInfo"),{userId:e,username:t,firstName:a,secondName:n,userLink:c,githubLink:r},{headers:{Authorization:"Bearer ".concat(l)}});case 4:o=s.sent,i((u=o.data.currentUser,{type:U,payload:u})),i(X(o.data.message)),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(0),i($(s.t0.response.data.message));case 12:case"end":return s.stop()}var u}),s,null,[[0,9]])})));return function(e){return s.apply(this,arguments)}}()));var e,t,a,n,c,r},className:"btn bord profile_form__input-button",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})};var ot=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.user})),a=t.currentUser,c=t.isError,r=t.isMessage,s=Object(n.useState)(""),l=Object(ce.a)(s,2),o=l[0],u=l[1];return Object(b.jsxs)("div",{className:"col-sm-6 profile_form",children:[Object(b.jsxs)("div",{className:"profile_form__info text-lg-center text-center",children:[Object(b.jsx)("h3",{children:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f"}),Object(b.jsx)("p",{children:"\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0430\u0448\u0443 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e"})]}),Object(b.jsxs)("div",{className:"profile_form__inputs align-items-center justify-content-center",children:[c&&Object(b.jsx)(ie,{}),r&&Object(b.jsx)(le,{}),Object(b.jsx)("div",{className:"input-group mb-3",children:Object(b.jsx)("input",{onChange:function(e){return function(e){u(e.target.files[0])}(e)},type:"file",accept:"image/png, image/gif, image/jpeg",className:"input form-control input-file",id:"inputGroupFile01"})}),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("button",{onClick:function(){var t,n;e(""!==o?(t=a.user._id,n=o,function(){var e=Object(h.a)(x.a.mark((function e(a){var c,r,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(c=new FormData).append("avatar",n),c.append("userId",t),r=localStorage.getItem("token"),e.next=7,q.a.put("".concat(Z,"api/user/avatar"),c,{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"multipart/form-data"}});case 7:s=e.sent,a((i=s.data.avatar,{type:M,payload:i})),a(X(s.data.message)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),a($(e.t0.response.data.message));case 15:case"end":return e.stop()}var i}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()):$())},className:"btn bord profile_form__input-button",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})};var ut=function(e){var t=e.setselectedLink,a=e.selectedLink,n=W.API_SERVER,c=Object(i.c)((function(e){return e.user})).currentUser;return console.log(c.user.firstName&&c.user.secondName),Object(b.jsxs)("div",{className:"col-lg-4 profile_sidebar d-flex flex-column",children:[Object(b.jsxs)("div",{className:"profile_sidebar__info d-flex flex-column align-items-center justify-content-center",children:[Object(b.jsx)("div",{className:"avatar d-flex justify-content-center",children:Object(b.jsx)("img",{src:n+c.user.avatar,alt:""})}),Object(b.jsx)("p",{className:"profile_sidebar__username",children:c.user.firstName&&c.user.secondName?c.user.secondName+" "+c.user.firstName:c.user.username})]}),Object(b.jsx)("ul",{className:"profile_sidebar__links d-flex flex-column ",children:[{link:"userInfo",name:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"},{link:"account",name:"\u0423\u0447\u0435\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c"},{link:"photo",name:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f"}].map((function(e,n){return Object(b.jsx)("li",{onClick:function(){return t(e.link)},className:" profile_sidebar__link ".concat(a===e.link?"profile_sidebar__link-active":""),children:Object(b.jsx)(o.b,{to:"",children:e.name})},e.link)}))})]})};var jt=function(){var e=Object(n.useState)("userInfo"),t=Object(ce.a)(e,2),a=t[0],c=t[1];return Object(b.jsx)("div",{className:"container-lg",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(ut,{setselectedLink:function(e){c(e)},selectedLink:a}),"userInfo"===a?Object(b.jsx)(lt,{}):"account"===a?Object(b.jsx)(it,{}):"photo"===a?Object(b.jsx)(ot,{}):""]})})};var dt=function(e){var t=e.role,a=Object(n.useState)({name:"",email:"",password:"",passwordRepeat:""}),c=Object(ce.a)(a,2),r=c[0],s=c[1],l=Object(i.b)(),u=function(){l(function(e,t,a,n){return function(){var c=Object(h.a)(x.a.mark((function c(r){var s;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,q.a.post("".concat(Z,"api/auth/registration"),{username:e,email:t,password:a,role:n});case 3:return s=c.sent,r(J(s.data)),localStorage.setItem("token",s.data.token),c.abrupt("return",s.data);case 9:return c.prev=9,c.t0=c.catch(0),r($(c.t0.response.data.message)),c.abrupt("return",c.t0.response.data);case 13:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(r.name,r.email,r.password,t))};return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"container ",children:[Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsx)("div",{className:"col-2"}),Object(b.jsxs)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),u()},className:"forms col-8 d-flex flex-column justify-content-center",children:[Object(b.jsx)("p",{className:"text-center",children:"USER"===t?"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c \u0438 \u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435":"\u0414\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u0437\u043d\u0430\u043d\u0438\u044f\u043c\u0438 \u043d\u0430 \u043a\u0440\u0443\u043f\u043d\u0435\u0439\u0448\u0435\u0439 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435"}),Object(b.jsx)("input",{value:r.name,onChange:function(e){return s(Object(Ie.a)(Object(Ie.a)({},r),{},{name:e.target.value}))},className:"input",type:"text",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(b.jsx)("input",{value:r.email,onChange:function(e){return s(Object(Ie.a)(Object(Ie.a)({},r),{},{email:e.target.value}))},className:"input",type:"text",placeholder:"Email"}),Object(b.jsx)("input",{autoComplete:"new-password",value:r.password,onChange:function(e){return s(Object(Ie.a)(Object(Ie.a)({},r),{},{password:e.target.value}))},className:"input",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)("input",{autoComplete:"new-password",value:r.passwordRepeat,onChange:function(e){return s(Object(Ie.a)(Object(Ie.a)({},r),{},{passwordRepeat:e.target.value}))},className:"input",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0435\u0449\u0435 \u0440\u0430\u0437"}),Object(b.jsx)("div",{className:"d-flex justify-content-lg-end",children:Object(b.jsx)("button",{type:"submit",className:"bord col-lg-3 col-12",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(b.jsxs)("p",{className:"text-center under_inputs",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c? ",Object(b.jsx)(o.b,{to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]}),Object(b.jsx)("div",{className:"col-2"})]})})};var bt=function(){var e=Object(i.b)();Object(n.useEffect)((function(){e(ye())}),[e]);var t=Object(i.c)((function(e){return e.user})),a=t.currentUser,c=t.isMessage,r=Object(i.c)((function(e){return e.course})),s=r.cards,u=r.isLoading,j=Object(n.useState)(""),d=Object(ce.a)(j,2),m=d[0],p=d[1],O=Object(n.useState)(""),x=Object(ce.a)(O,2),h=x[0],f=x[1],v=s.filter((function(e){return e.author===a.user._id})),g=Object(pe.a)(v).filter((function(e){return e.type===h})).filter((function(e){return e.title.toLowerCase().includes(m.toLowerCase())})),N=Object(pe.a)(v).filter((function(e){return e.title.toLowerCase().includes(m.toLowerCase())}));return Object(b.jsxs)("div",{className:"container",children:[c&&Object(b.jsx)(le,{}),Object(b.jsx)("ul",{className:"education_header__navbar mb-5",children:Object(b.jsx)("li",{children:Object(b.jsx)("button",{className:"btn mt-3 ",children:Object(b.jsx)(o.b,{to:"/addCard",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"})})})}),Object(b.jsxs)(l.a,{className:"search",children:[Object(b.jsx)("h4",{className:"",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(b.jsxs)("div",{className:"directions row",children:[Object(b.jsx)(Te,{selectSort:function(e){f(e)},trends:[{type:"design",name:"\u0414\u0438\u0437\u0430\u0439\u043d"},{type:"programming",name:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"},{type:"marketing",name:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433"}],selectAll:function(e){return f(e)},selectedSort:h}),Object(b.jsx)(Ee,{searchVal:m,setsearchVal:p})]}),s&&s.length>0?""===h?N.length?Object(b.jsx)(ke,{cards:N}):Object(b.jsx)("h3",{style:{textAlign:"center",margin:"32px 0"},children:"\u041a\u0443\u0440\u0441\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}):g.length?Object(b.jsx)(ke,{cards:g}):Object(b.jsx)("h3",{style:{textAlign:"center",margin:"32px 0"},children:"\u041a\u0443\u0440\u0441\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}):u?Object(b.jsx)("div",{className:"d-flex row",children:Object(pe.a)(Array(3).keys()).map((function(e,t){return Object(b.jsx)(Ce,{},t)}))}):Object(b.jsx)("h3",{style:{textAlign:"center",margin:"32px 0"},children:"\u041a\u0443\u0440\u0441\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"})]})]})};var mt=function(){var e,t,a,c,r=Object(i.c)((function(e){return e.user})),s=r.isAuth,j=r.currentUser,d=r.isError,m=r.isMessage,p=Object(i.b)();Object(n.useEffect)((function(){p(function(){var e=Object(h.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),e.next=4,q.a.get("".concat(Z,"api/auth/auth"),{headers:{Authorization:"Bearer ".concat(a)}});case 4:n=e.sent,t(J(n.data)),localStorage.setItem("token",n.data.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),localStorage.removeItem("token");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),p(ye())}),[p]);var O=null===j||void 0===j||null===(e=j.user)||void 0===e||null===(t=e.roles)||void 0===t?void 0:t.includes("ADMIN"),f=null===j||void 0===j||null===(a=j.user)||void 0===a||null===(c=a.roles)||void 0===c?void 0:c.includes("TEACHER");return Object(b.jsx)(He.b,{options:{"client-id":Object({NODE_ENV:"production",PUBLIC_URL:"/courses",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PAYPAL_CLIENT_ID||W.PAYPAL_CLIENT_ID},children:Object(b.jsxs)(o.a,{children:[d&&Object(b.jsx)(ie,{}),m&&Object(b.jsx)(le,{}),Object(b.jsx)(l.a,{children:Object(b.jsx)(ne,{})}),Object(b.jsxs)(u.d,{children:[O?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.b,{path:"/admin",element:Object(b.jsx)(Be,{}),exact:!0}),Object(b.jsx)(u.b,{path:"/createUser",element:Object(b.jsx)(Xe,{}),exact:!0}),Object(b.jsx)(u.b,{path:"/user/:id",element:Object(b.jsx)(ze,{}),exact:!0})]}):Object(b.jsx)(u.b,{path:"*",element:Object(b.jsx)(u.a,{to:"/home"}),exact:!0}),f||O?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.b,{path:"/addCard",element:Object(b.jsx)(Je,{}),exact:!0}),Object(b.jsx)(u.b,{path:"/:cardId/:lessonId/changeLesson",element:Object(b.jsx)(Me,{}),exact:!0}),Object(b.jsx)(u.b,{path:"/card/:id/change",element:Object(b.jsx)(Fe,{}),exact:!0}),Object(b.jsx)(u.b,{path:"/card/:card_id/:block_id/addLession",element:Object(b.jsx)(Ye,{}),exact:!0})]}):Object(b.jsx)(u.b,{path:"*",element:Object(b.jsx)(u.a,{to:"/home"}),exact:!0}),Object(b.jsx)(u.b,{path:"/home",element:Object(b.jsx)(at,{}),exact:!0}),Object(b.jsx)(u.b,{path:"/card/:id",element:Object(b.jsx)(qe,{}),exact:!0}),s?Object(b.jsx)(u.b,{path:"*",element:Object(b.jsx)(u.a,{to:"/home"}),exact:!0}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.b,{path:"/registration/teacher",element:Object(b.jsx)(dt,{role:"TEACHER"}),exact:!0}),Object(b.jsx)(u.b,{path:"/registration",element:Object(b.jsx)(dt,{role:"USER"}),exact:!0}),Object(b.jsx)(u.b,{path:"/login",element:Object(b.jsx)(rt,{}),exact:!0})]}),s?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.b,{path:"/profile",element:Object(b.jsx)(jt,{}),exact:!0}),Object(b.jsx)(u.b,{path:"/teachersRoom",element:Object(b.jsx)(bt,{}),exact:!0}),Object(b.jsx)(u.b,{path:"/education",element:Object(b.jsx)(tt,{}),exact:!0}),Object(b.jsx)(u.b,{path:"/lesson/:id",element:Object(b.jsx)(ct,{}),exact:!0})]}):Object(b.jsx)(u.b,{path:"*",element:Object(b.jsx)(u.a,{to:"/home"}),exact:!0})]})]})})},pt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,157)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},Ot=a(50),xt=a(105),ht=a(104),ft={cards:[],currentPromo:{},isLoading:!0,currentCard:{},isFetching:!0,currentLessons:[],comments:[]},vt={isAuth:!1,currentUser:{},users:[],error:"",isError:!1,message:"",isMessage:!1,errors:[],userData:{},currentLesson:[]},gt=Object(Ot.combineReducers)({course:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(Ie.a)(Object(Ie.a)({},e),{},{cards:t.payload,isLoading:!1});case k:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentLessons:t.payload});case C:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentCard:t.payload,isFetching:!1});case S:return Object(Ie.a)(Object(Ie.a)({},e),{},{lesson:t.payload});case H:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentPromo:t.payload});case L:return Object(Ie.a)(Object(Ie.a)({},e),{},{comments:t.payload});case E:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentLessons:[].concat(Object(pe.a)(e.currentLessons),[t.payload])});case I:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentLessons:Object(pe.a)(e.currentLessons.filter((function(e){return e._id!==t.payload})))});case G:return Object(Ie.a)(Object(Ie.a)({},e),{},{cards:e.cards.filter((function(e){return e._id!==t.payload}))});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return localStorage.removeItem("token"),Object(Ie.a)(Object(Ie.a)({},e),{},{currentUser:{},isAuth:!1});case A:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentUser:Object(Ie.a)(Object(Ie.a)({},e.currentUser),{},{user:Object(Ie.a)(Object(Ie.a)({},e.currentUser.user),{},{currentLesson:t.payload})})});case w:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentUser:t.payload,isAuth:!0,isLoading:!1});case _:case U:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentUser:Object(Ie.a)(Object(Ie.a)({},e.currentUser),{},{user:t.payload})});case z:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentUser:Object(Ie.a)(Object(Ie.a)({},e.currentUser),{},{user:Object(Ie.a)(Object(Ie.a)({},e.currentUser.user),{},{favoriteCourses:[].concat(Object(pe.a)(e.currentUser.user.favoriteCourses),[t.payload._id])})})});case P:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentUser:Object(Ie.a)(Object(Ie.a)({},e.currentUser),{},{user:Object(Ie.a)(Object(Ie.a)({},e.currentUser.user),{},{favoriteCourses:e.currentUser.user.favoriteCourses.filter((function(e){return e!==t.payload._id}))})})});case g:return Object(Ie.a)(Object(Ie.a)({},e),{},{error:t.payload,isError:!0});case N:return Object(Ie.a)(Object(Ie.a)({},e),{},{error:"",isError:!1});case f:return Object(Ie.a)(Object(Ie.a)({},e),{},{message:t.payload,isMessage:!0});case v:return Object(Ie.a)(Object(Ie.a)({},e),{},{message:"",isMessage:!1});case F:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentUser:Object(Ie.a)(Object(Ie.a)({},e.currentUser),{},{user:Object(Ie.a)(Object(Ie.a)({},e.currentUser.user),{},{email:t.payload})})});case M:return Object(Ie.a)(Object(Ie.a)({},e),{},{currentUser:Object(Ie.a)(Object(Ie.a)({},e.currentUser),{},{user:Object(Ie.a)(Object(Ie.a)({},e.currentUser.user),{},{avatar:t.payload})})});case B:return Object(Ie.a)(Object(Ie.a)({},e),{},{userData:t.payload});case T:return Object(Ie.a)(Object(Ie.a)({},e),{},{users:t.payload});case D:return Object(Ie.a)(Object(Ie.a)({},e),{},{users:[].concat(Object(pe.a)(e.users),[t.payload])});case R:return Object(Ie.a)(Object(Ie.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.payload}))});default:return e}}}),Nt=Object(Ot.createStore)(gt,Object(ht.composeWithDevTools)(Object(Ot.applyMiddleware)(xt.a)));s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(i.a,{store:Nt,children:Object(b.jsx)(mt,{})})}),document.getElementById("root")),pt()},22:function(e){e.exports=JSON.parse('{"API_SERVER":"https://test-node.herokuapp.com/","PAYPAL_CLIENT_ID":"Aael1VKiDeJEwxA34qurfvo9wXM_w6tHT0J00SA8G_SueYBktGBwZ6mbuEN8Z0H7TCqmN-wxibF_jyFx"}')}},[[139,1,2]]]);
//# sourceMappingURL=main.65fd1831.chunk.js.map